<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activitat 3</title>
</head>
<body>
<script>
    let data;
    let parts;
    let flag = false;
    let dia;
    let mes;
    let any;
    let dataNaix;

    do {
        data = prompt("Introdueix la teva data de naixement (DD-MM-AAAA):");

        if (data && data.includes("-")) {
            parts = data.split("-");
            if (parts.length === 3) {
                dia = parseInt(parts[0]);
                mes = parseInt(parts[1]);
                any = parseInt(parts[2]);

                if (!isNaN(dia) && !isNaN(mes) && !isNaN(any)) {
                    dataNaix = new Date(any, mes - 1, dia);
                    if (dataNaix.getFullYear() === any && dataNaix.getMonth() + 1 === mes && dataNaix.getDate() === dia) {
                        flag = true;
                    }
                }
            }
        }
        if (!flag) alert("Format incorrecte. Escriu-ho com DD-MM-AAAA.");
    } while (!flag);

    let signe = "";

    // Se que es molt cutre, pero estic nervios
    if ((mes == 3 && dia >= 21) || (mes == 4 && dia <= 20)) {
        signe = "Àries";
    } 
    else if ((mes == 4 && dia >= 21) || (mes == 5 && dia <= 20)) {
        signe = "Taure";
    } 
    else if ((mes == 5 && dia >= 21) || (mes == 6 && dia <= 21)) {
        signe = "Bessons";
    } 
    else if ((mes == 6 && dia >= 22) || (mes == 7 && dia <= 21)) {
        signe = "Cranc";
    } 
    else if ((mes == 7 && dia >= 22) || (mes == 8 && dia <= 23)) {
        signe = "Lleó";
    } 
    else if ((mes == 8 && dia >= 24) || (mes == 9 && dia <= 23)) {
        signe = "Verge";
    } 
    else if ((mes == 9 && dia >= 24) || (mes == 10 && dia <= 22)) {
        signe = "Balança";
    } 
    else if ((mes == 10 && dia >= 23) || (mes == 11 && dia <= 22)) {
        signe = "Escorpí";
    } 
    else if ((mes == 11 && dia >= 23) || (mes == 12 && dia <= 21)) {
        signe = "Sagitari";
    } 
    else if ((mes == 12 && dia >= 22) || (mes == 1 && dia <= 20)) {
        signe = "Capricorni";
    } 
    else if ((mes == 1 && dia >= 21) || (mes == 2 && dia <= 19)) {
        signe = "Aquari";
    } 
    else if ((mes == 2 && dia >= 20) || (mes == 3 && dia <= 20)) {
        signe = "Peixos";
    } 
    else {
        signe = "Data invàlida";
    }

    document.write(`<h2>El teu signe del zodíac és: ${signe}</h2>`);
</script>
</body>
</html>
